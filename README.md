SkillFactory

Курс FPW-138

Домашняя работа, модуль E13.7

Выполнил студент курса FPW-138 Заплатин А.Г.

Задание:

1.Установить и настроить webpack-dev-server.

Для проверки задания необходимо:

1.1 Клонировать удаленный репозиторий, используя команду в терминале: git clone https://github.com/Aleksets/moduleE13_homework.git

1.2 Находясь внутри папки локального репозитория, установить webpack-dev-server, используя команду в терминале: npm install --save-dev webpack-dev-server.

1.3 Установить другие модули для работы webpack, если потребуется.

1.4 Следовать инструкциям п. 3.

2.Настроить hot module replacement.

HMR настроен, для проверки его работоспособности необходимо следовать инструкциям п. 3.1-3.4.

3.Сделать возможность запуска на разных окружениях (dev, prod) c разной конфигурацией (например, убрать HMR на проде).

В программе реализовано выполнение разных логик в окружениях dev и prod. В prod (файл webpack.production.js) по сравнению с dev (файл webpack.development.js) реализованы следующие отличия:

- указан порт 3005 вместо 3001;

- отключены HMR и Live Reloading;

- добавлен атрибут performance для корректной работы приложения.

Для проверки работоспособности в окружении dev:

3.1 В терминале выполнить команду npm run start:dev

3.2 Зайти в браузере в локалхост с портом 3001: http://localhost:3001/

3.3 Убедиться, что HMR и Live Reloading активны (F12, вкладка Console).

3.4 Заменить, к примеру, цвет фона в файле src/style.css с золотого на любой другой и убедиться, что в браузере результат отразится без перезагрузки страницы. Также при нажатии в бразуере клавиши F12 и переходе во вкладку Console будет отображаться лог о работе HMR и об изменениях source-файла style.css.

Для проверки работоспособности в окружении prod:

3.5 В терминале выполнить команду npm run start:prod

3.2 Зайти в браузере в локалхост с портом 3005: http://localhost:3005/

3.3 Убедиться, что HMR и Live Reloading неактивны (F12, вкладка Console).

3.4 Заменить, к примеру, цвет фона в файле src/style.css с имеющегося на любой другой и убедиться, что в браузере результат отразится только при принудительной перезагрузке страницы. Также при нажатии в бразуере клавиши F12 и переходе во вкладку Console не будет отображаться лог о работе HMR.

4.Настроить JSON-server и отображать полученные с него данные.

JSON-сервер настроен. Для проверки его работоспособности необходимо:

4.1 Если json-server не установлен - установить его командой в терминале: npm install --save-dev json-server.

4.2 Выполнить команду в терминале: json-server --watch src/database.json

4.3 В браузере зайти по адресу: http://localhost:3000/contacts для просмотра всех контактов из src/database.json

4.4 В браузере зайти, к примеру, по адресу: http://localhost:3000/contacts/1 для просмотра первого контакта из src/database.json

5.Добавить запуск линтера при комите.

Для проверки работоспособности pre-commit хука Линтер необходимо:

5.1 ВЫполнить команду в терминале:

npm init @eslint/config

Следовать инструкциям

5.2 Выполнить команду в терминале:

npm i --save-dev husky lint-staged prettier eslint-config-prettier

5.3 Выполнить команду в терминале:

npx husky-init

Следовать инструкциям

5.4 В файле .husky/pre-commit заменить

npm test

на

npm run lint-staged

5.1 Допустить ошибку к коде, то есть заменить, к примеру, в файле src/index.js первую строку на: import * math from './math.js';

5.2 Сохранить файл src/index.js

5.3 Выполнить команду в терминале:

git add .

5.4 Затем:

git commit -m "Pre-commit test"

5.5 Хаски вместо того, чтобы успешно реализовать коммит, укажет на ошибки, и коммит не будет реализован.

5.6 Если вы считаете, что ошибки не приводят к неправильной работе ПО, вы можете указать дополнительный атрибут --no-verify

git commit -m "Pre-commit test" --no-verify

В таком случае pre-commit хук не сработает, и коммит будет успешно реализован, несмотря на ошибки.
